# MySQL 海量数据设计和架构

[TOC]

## 存储引擎

### MySQL 记录存储

* 页头

* 虚记录

* 记录堆

* 自由空间表

* 未分配空间

* Slot

* 页尾

### 页内记录维护

* 顺序保证

* 插入策略

* 页内查询

## InnoDB 内存管理

### 基本设计

* 预分配内存空间
* 数据以页为单位加载
* 数据内外层交换

### 技术点

* 内存池
* 内存页面管理
  * 页面映射
  * 页面数据管理
* 数据淘汰
  * 内存页都被使用
  * 需要加载新数据

### 页面管理

* Clean Page
* Dirty Page
* Free Page

### 页面淘汰

* LRU

## 锁

## 事务

